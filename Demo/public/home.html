<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
		<!-- jQuery library -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<!-- Latest compiled JavaScript -->
		<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
		<script src="/socket.io/socket.io.js"></script>
		<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
		<script src="http://code.jquery.com/jquery-1.11.1.js"></script>
		<script type="text/javascript" src="js/request.js"></script>
		<script type="text/javascript" src="js/recieve.js"></script>
		<script type="text/javascript" src="js/sessionStore.js"></script>
		<script type="text/javascript" src="js/vote.js"></script>
	</head>

	<style>
		#votedForHeading, #findACharityBtn{
			background: green;
		}
		#emailChangeSuccess {
			display: none;
		}
		.selected {
			/*Light grey*/
			background-color: #D5DADB;
		}
	</style>

	<script type="text/javascript">
		$(function(){
			$("#menu").load("menu.html");
		});
	</script>

	<div class="container">
		<!-- Search Bar -->
		<div id="menu"></div>
		<body onload="userInfo()">
				<div class="row" id="user">
					<!-- Experimental -->
					<div id="emailChangeSuccess" class="alert alert-success" role="alert"><span class="glyphicon glyphicon-ok"></span> Email successfully changed!</div>

					<h3>Personal Details</h3>
					<p data-toggle="modal" data-target="#uploadPicPopup">
						<img src="img/profile_pic.png"/>
						<span id="username"></span>
					</p>
					<div class="modal fade bs-example-modal-sm" id="uploadPicPopup" tabindex="-1" role="dialog" aria-labelledby="uploadPicPopup">
					 	<div class="modal-dialog modal-sm">
					    	<div class="modal-content">
					      		<div class="modal-header">
					        		<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					        		<h4 class="modal-title" id="myModalLabel">Change profile picture</h4>
					      		</div>

					      		<div class="modal-body">
					      			<p> Upload a profile picture</p>
					        		<input type="file"></input>
					      		</div>

					      		<div class="modal-footer">
					        		<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					        		<button id="emailSubmit" type="button" class="btn btn-primary" onclick="">Save changes</button>
					      		</div>
					    	</div>
					  	</div>
					</div>	
					<hr>
					<div class="col-md-3 col-sm-6 col-xs-5">
						<p><b>Full Name:</b> <span id="name"></span></p>
						<!-- <p><b>Password: </b><span id="password" type="password"></span> </p> -->
						<p><b>Email: </b><span id="email"></span></p>
					</div>
					<div class="col-md-3 col-sm-6 col-xs-5">
						<p><a href="Category.html" id="findACharityBtn" class="btn btn-primary btn-lg"/>Find by category</a></p>
						<p><button onclick="passwordChange();" class="btn btn-primary btn-lg"/>Change Password</button></p>
						<p><button onclick="emailChange()" class="btn btn-primary btn-lg"/>Change Email</button></p>

						<!-- Experimental -->
						<div style="display:none;">
							<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#emailPopup">
			  					Launch email demo modal
							</button>
						</div>
					</div>
				</div>
				<script>
					userRev();
					sendVoteChar();
					receiveVoteChar();
				</script>

				<div class="row" id="category">
					<h4 class="list-group-item active" id='votedForHeading'>Charities Voted For</h4>
					<ul class="list-group" id="result">
					</ul>
				</div>

				<!-- Experimental -->
				<div class="modal fade bs-example-modal-sm" id="emailPopup" tabindex="-1" role="dialog" aria-labelledby="emailPopup">
				 	<div class="modal-dialog modal-sm">
				    	<div class="modal-content">
				      		<div class="modal-header">
				        		<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				        		<h4 class="modal-title" id="myModalLabel">Change email</h4>
				      		</div>

				      		<div class="modal-body">
				      			<p>Please enter your new email</p>
				        		<input typ="text"></input>
				      		</div>

				      		<div class="modal-footer">
				        		<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				        		<button id="emailSubmit" type="button" class="btn btn-primary" onclick="">Save changes</button>
				      		</div>
				    	</div>
				  	</div>
				</div>				

				<!-- Modal popup template -->
				<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
				 	<div class="modal-dialog" role="document">
				    	<div class="modal-content">
				      		<div class="modal-header">
				        		<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				        		<h4 class="modal-title" id="myModalLabel">Modal title</h4>
				      		</div>

				      		<div class="modal-body">
				        		...
				      		</div>

				      		<div class="modal-footer">
				        	<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				        	<button type="button" class="btn btn-primary">Save changes</button>
				      	</div>
				    	</div>
				  	</div>
				</div>

		</body>
	</div>
</html>
